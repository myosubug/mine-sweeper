(this["webpackJsonpmine-sweeper"]=this["webpackJsonpmine-sweeper"]||[]).push([[0],{13:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(6),i=a.n(o),r=a(1),l=a(2),c=a(4),u=a(3),d=(a(13),function(e){return e.data.isOpen?0===e.data.mineCount?s.a.createElement("div",{className:"cell-open",onClick:function(){return e.open(e.data)},onContextMenu:function(t){t.preventDefault(),e.flag(e.data)}}):e.data.hasMine?s.a.createElement("div",{className:"cell-open",onClick:function(){return e.open(e.data)},onContextMenu:function(e){e.preventDefault()}},s.a.createElement("span",{role:"img","aria-label":"bomb"},"\ud83d\udca3")):s.a.createElement("div",{className:"cell-open",onClick:function(){return e.open(e.data)},onContextMenu:function(t){t.preventDefault(),e.flag(e.data)}},e.data.mineCount):e.data.hasFlag?s.a.createElement("div",{className:"cell-closed",onClick:function(){return e.open(e.data)},onContextMenu:function(t){t.preventDefault(),e.flag(e.data)}},s.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83c\udff4\u200d\u2620\ufe0f")):e.data.hasMine&&e.ended?s.a.createElement("div",{className:"cell-closed",onClick:function(){return e.open(e.data)},onContextMenu:function(e){e.preventDefault()}},s.a.createElement("span",{role:"img","aria-label":"bomb"},"\ud83d\udca3")):s.a.createElement("div",{className:"cell-closed",onClick:function(){return e.open(e.data)},onContextMenu:function(t){t.preventDefault(),e.flag(e.data)}})}),m=function(e){var t=e.cells.map((function(t,a){return s.a.createElement(d,{data:t,key:a,open:e.open,flag:e.flag,ended:e.ended}," ")}));return s.a.createElement("div",{className:"row"},t)},p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).initialize=function(e){for(var t=[],a=0;a<e.row;a++){t.push([]);for(var n=0;n<e.col;n++)t[a].push({x:a,y:n,mineCount:0,isOpen:!1,hasMine:!1,hasFlag:!1})}return t},n.open=function(e){if("ended"!==n.props.status){var t=n.state.rows,a=t[e.x][e.y];if(n.initial){n.initial=!1;for(var s=0;s<n.props.mine;s++){var o=Math.floor(Math.random()*n.props.row),i=Math.floor(Math.random()*n.props.col);t[o][i].hasMine||o===e.x&&i===e.y?s--:t[o][i].hasMine=!0}n.props.cellClick(),a.isOpen=!0,a.mineCount=n.countMines(e),n.setState({rows:t}),a.hasMine||0!==a.mineCount||n.checkAround(e)}else e.hasFlag||a.isOpen||(n.props.cellClick(),a.isOpen=!0,a.mineCount=n.countMines(e),n.setState({rows:t}),a.hasMine||0!==a.mineCount||n.checkAround(e)),a.hasMine&&0!==n.props.opened&&(n.ended=!0,n.props.endGame())}},n.checkAround=function(e){for(var t=n.state.rows,a=-1;a<=1;a++)for(var s=-1;s<=1;s++)e.x+a>=0&&e.y+s>=0&&e.x+a<n.state.rows.length&&e.y+s<n.state.rows[0].length&&(t[e.x+a][e.y+s].hasMine||t[e.x+a][e.y+s].isOpen||n.open(t[e.x+a][e.y+s]))},n.countMines=function(e){for(var t=0,a=-1;a<=1;a++)for(var s=-1;s<=1;s++)e.x+a>=0&&e.y+s>=0&&e.x+a<n.state.rows.length&&e.y+s<n.state.rows[0].length&&(!n.state.rows[e.x+a][e.y+s].hasMine||0===a&&0===s||t++);return t},n.flag=function(e){if("ended"!==n.props.status&&!e.isOpen){var t=n.state.rows;e.hasFlag=!e.hasFlag,n.setState({rows:t}),n.props.updateFlag(e.hasFlag?-1:1)}},n.initial=!0,n.ended=!1,n.state={rows:n.initialize(e)},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.mode===e.mode?this.props.opened>e.opened&&(this.setState({rows:this.initialize(e)}),this.initial=!0,this.ended=!1):this.props.opened>=e.opened&&(this.setState({rows:this.initialize(e)}),this.initial=!0,this.ended=!1)}},{key:"render",value:function(){var e=this,t=this.state.rows.map((function(t,a){return s.a.createElement(m,{cells:t,key:a,flag:e.flag,open:e.open,ended:e.ended})}));return s.a.createElement("div",{className:"board"},t)}}]),a}(s.a.Component),h=a(7),f=a.n(h),g=function(e){return"waiting"===e.status?s.a.createElement("div",{className:"navbar"},s.a.createElement("button",{className:"easy",onClick:e.easy},"easy"),s.a.createElement("button",{className:"hard",onClick:e.hard},"hard"),s.a.createElement("div",{className:"flag-count"},"Flags: ",e.flagCount),s.a.createElement("div",{className:"timer"}," Ready to start?  ")):"running"===e.status?s.a.createElement("div",{className:"navbar"},s.a.createElement("button",{className:"easy",onClick:e.easy},"easy"),s.a.createElement("button",{className:"hard",onClick:e.hard},"hard"),s.a.createElement("div",{className:"flag-count"},"Flags: ",e.flagCount),s.a.createElement("div",{className:"timer"},"Time: ",s.a.createElement(f.a,{start:0,end:1e3,duration:4500}),"  ")):s.a.createElement("div",{className:"navbar"},s.a.createElement("button",{className:"easy",onClick:e.easy},"easy"),s.a.createElement("button",{className:"hard",onClick:e.hard},"hard"),s.a.createElement("div",{className:"flag-count"},"Flags: ",e.flagCount),s.a.createElement("div",{className:"timer"},"GAME OVER!  "))},v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).easy=function(){e.setState(Object.assign({},e.easyMode))},e.hard=function(){e.setState(Object.assign({},e.hardMode))},e.checkWin=function(){e.state.opened===e.state.row*e.state.col-e.state.mine&&(e.setState({status:"won"},alert("You won the game!!! good job!!")),e.setState(Object.assign({},e.easyMode)))},e.endGame=function(){e.setState({status:"ended"},alert("You stepped on a mine :( please try again!"))},e.handleCellClick=function(){0===e.state.opened&&"running"!==e.state.status&&e.setState({status:"running"}),e.setState((function(e){return{opened:e.opened+1}}))},e.updateFlag=function(t){e.setState({flag:e.state.flag+t})},e.state={status:"waiting",mode:"easy",row:10,col:10,flag:5,mine:5,opened:0},e.easyMode=e.state,e.hardMode={status:"waiting",mode:"hard",row:20,col:20,flag:40,mine:40,opened:0},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){"running"===this.state.status&&this.checkWin()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"title"},"mInE sWeEpEr"),s.a.createElement(g,{flagCount:this.state.flag,status:this.state.status,easy:this.easy,hard:this.hard}),s.a.createElement(p,{row:this.state.row,col:this.state.col,mine:this.state.mine,opened:this.state.opened,endGame:this.endGame,status:this.state.status,updateFlag:this.updateFlag,mode:this.state.mode,cellClick:this.handleCellClick}))}}]),a}(s.a.Component);i.a.render(s.a.createElement(v,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.f42f2a97.chunk.js.map